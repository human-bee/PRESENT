# Enable experimental streamable Mermaid TLDraw shape
NEXT_PUBLIC_ENABLE_MERMAID_STREAM_SHAPE=true
# Control subagent autorun (true/false). In dev defaults to false unless set true.
NEXT_PUBLIC_SUBAGENT_AUTORUN=true
# Environment Variables

# custom AI Configuration
NEXT_PUBLIC_custom_API_KEY=your_api_key_here                     # custom AI API key (required for generative UI)
NEXT_PUBLIC_LK_TOKEN_ENDPOINT=/api/token                         # API route for LiveKit token generation
NEXT_PUBLIC_LK_SERVER_URL=wss://your-livekit-url.livekit.cloud          # LiveKit websocket URL (for UI components)
NEXT_PUBLIC_CANVAS_DEV_BYPASS=false                             # If true, bypass auth on /canvas in dev
NEXT_PUBLIC_STEWARD_FLOWCHART_ENABLED=true                      # Enable flowchart steward routing in ToolDispatcher
NEXT_PUBLIC_TOOL_DISPATCHER_LOGS=false                          # Verbose ToolDispatcher logs in the browser console
NEXT_PUBLIC_TOOL_DISPATCHER_METRICS=false                       # Emit tSend/tArrive/tPaint metrics for perf testing

# LiveKit Configuration
LIVEKIT_URL=wss://your-livekit-url.livekit.cloud                        # LiveKit websocket server URL (for agent)
LIVEKIT_API_KEY=your_livekit_api_key                             # LiveKit API key (for agent)
LIVEKIT_API_SECRET=your_livekit_api_secret                       # LiveKit API secret (for agent)

TOGETHER_API_KEY=your-together-ai-api-key                        # Together AI API key for image generation

# OpenAI Configuration  
OPENAI_API_KEY=your_openai_api_key                               # OpenAI API key (for agent/LLM features)
ANTHROPIC_API_KEY=your_anthropic_api_key                         # (Optional) Anthropic API key for Claude models
GOOGLE_API_KEY=your_google_api_key                               # (Optional) Google Generative AI key (future support)

CEREBRAS_API_KEY=your-cerebras-api-key                           # (Optional) Cerebras API key for StewardFAST
CEREBRAS_API_BASE_URL=https://api.cerebras.ai                    # (Optional) override Cerebras base URL
GROQ_API_KEY=your-groq-api-key                                   # (Optional) Groq API key for fast STT/StewardFAST
GROQ_API_BASE_URL=https://api.groq.com/openai/v1                 # (Optional) override Groq base URL for StewardFAST

# Linear Configuration
LINEAR_API_KEY=your-linear-api-key                               # (Optional) Linear API key for Linear Kanban (dev fallback)

# Supabase Configuration
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url        # Supabase project URL
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key            # Supabase anonymous key
SUPABASE_URL=https://your-supabase-url.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# Task Queue Configuration
TASK_DEFAULT_CONCURRENCY=1
TASK_MAX_CONCURRENCY_CANVAS=1
TASK_MAX_CONCURRENCY_FLOWCHART=2
TASK_MAX_CONCURRENCY_YOUTUBE=4
TASK_DEBOUNCE_MS_CANVAS=300

# Tldraw Sync Configuration
NEXT_PUBLIC_TLDRAW_SYNC_URL=wss://tldraw-sync-demo.tldraw.com/connect   # (Optional) Tldraw sync server URL
                                                                        # Recommended default: wss://tldraw-sync-demo.tldraw.com/connect
                                                                        # Self-hosted (Cloudflare Worker): set to your worker base URL (with /connect)
                                                                        # Local dev worker: ws://localhost:5172/connect

# Optional: Google OAuth configuration in Supabase dashboard
# No additional environment variables needed for OAuth providers

NODE_ENV=development                                             # Node environment (development/production)
AGENT_DEV_MODE=true                                             # Enable agent development mode

AGENT_LLM_MODEL=gpt-4.1                                         # (Optional) LLM model for agent (defaults to gpt-4.1; OpenAI only)
AGENT_STT_MODEL=your-stt-model-name                             # (Optional) STT model for agent (e.g., whisper-large-v3-turbo)
AGENT_TTS_MODEL=your-tts-model-name                             # (Optional) TTS model for agent (e.g., tts-1)
AGENT_STT_LANGUAGE=en                                           # (Optional) STT language (e.g., en)
VOICE_AGENT_INPUT_TRANSCRIPTION_MODEL=                         # (Optional) Voice agent STT model (e.g., gpt-4o-mini-transcribe); falls back to AGENT_STT_MODEL
VOICE_AGENT_TRANSCRIPTION_ENABLED=false                        # (Optional) Set true to stream realtime transcripts (defaults to true when model provided)
VOICE_AGENT_TRANSCRIPTION_LANGUAGE=en                          # (Optional) Force language hint for realtime transcription (defaults to AGENT_STT_LANGUAGE)
VOICE_AGENT_TURN_DETECTION=                                    # (Optional) 'server_vad', 'semantic_vad', or 'none'; defaults to server VAD when transcription enabled
VOICE_AGENT_UPDATE_LOSSY=true                                   # If true, send update_component over lossy channel for lower latency
FLOWCHART_STEWARD_VARIANT=openai                                # Set to "fast", "groq", or "cerebras" to enable StewardFAST
FLOWCHART_STEWARD_FAST_PROVIDER=groq                            # Override provider for StewardFAST ("groq" or "cerebras")
FLOWCHART_STEWARD_FAST_MODEL=openai/gpt-oss-20b                 # Model used when StewardFAST is active (provider-specific)
CANVAS_STEWARD_MODEL=claude-haiku-4-5                          # Preferred canvas steward model (falls back if provider unavailable)
NEXT_PUBLIC_CANVAS_AGENT_CLIENT_ENABLED=false                   # Keep the legacy browser TLDraw agent disabled (only enable in rare debugging scenarios)
NEXT_PUBLIC_CANVAS_AGENT_THEME_ENABLED=true                     # Keep TLDraw branding enabled even when the client agent is off
CANVAS_QUEUE_DIRECT_FALLBACK=false                              # Set true to execute the steward immediately when queue enqueue fails
CANVAS_STEWARD_DEBUG=false                                      # Set true to log prompts/actions for canvas steward debugging
CANVAS_AGENT_SECRET=change-me-to-strong-secret                  # Used to sign agent inbox tokens
# CANVAS_AGENT_DEV_ALLOW_UNAUTH=true                             # Optional dev bypass (do not enable in production)

# Unified Canvas Agent Configuration (see docs/canvas-agent.md)
CANVAS_AGENT_UNIFIED=true                                       # Enable unified server-centric Canvas Agent (default: true)
CANVAS_AGENT_SCREENSHOT_TIMEOUT_MS=3500                         # Screenshot RPC timeout in milliseconds (floored at 2500ms)
CANVAS_AGENT_SCREENSHOT_RETRIES=1                               # Additional screenshot attempts before giving up (default: 1)
CANVAS_AGENT_SCREENSHOT_RETRY_DELAY_MS=450                      # Delay between screenshot retries (ms)
CANVAS_AGENT_LOW_ACTION_THRESHOLD=6                             # Trigger a deterministic follow-up when fewer than N actions emit
CANVAS_AGENT_CONFIG=                                            # Optional JSON overrides for the knobs above (e.g. {"screenshot":{"timeoutMs":5000}})
CANVAS_AGENT_TTFB_SLO_MS=200                                   # Target time-to-first-byte for first action envelope (default: 200)
CANVAS_AGENT_PRESET=creative                                    # creative | precise (controls tuning + follow-ups)
CANVAS_AGENT_TEMPERATURE=0.85                                   # Model temperature (creative preset default)
CANVAS_AGENT_TOP_P=0.95                                         # Model top_p (creative preset default)
CANVAS_AGENT_MAX_OUT=4096                                       # Max output tokens for creative turns
CANVAS_AGENT_PROMPT_BUDGET=8000                                 # Target token budget for prompt assembly
CANVAS_AGENT_TRANSCRIPT_WINDOW_MS=300000                        # Transcript lookback window for Canvas Agent context (ms)
CANVAS_AGENT_FOLLOWUP_MAX_DEPTH=3                               # Override creative follow-up depth (precise defaults to 2)
CANVAS_AGENT_DISABLE_PROMPT_CACHE=0                             # Set to 1 to skip Anthropic prompt caching headers
ANTHROPIC_CACHE_TTL=1h                                          # TTL for Anthropic prompt cache beta (5m | 1h)
CANVAS_AGENT_MAX_FOLLOWUPS=3                                    # Legacy follow-up cap (kept for backward compatibility)
CANVAS_AGENT_SCREENSHOT_MAX_SIZE=1024                           # Max screenshot edge length (pixels)
CANVAS_AGENT_SHAPE_STATE_LIMIT=4096                             # Max bytes of TLDraw shape.props.state to include in prompt (truncates beyond)
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key      # Required for Canvas Agent todos table writes
LIVEKIT_REST_URL=https://your-livekit-url.livekit.cloud       # LiveKit REST URL for server-side data channel broadcasts

# React Profiler (set to true to enable React DevTools Profiler in development)
NEXT_PUBLIC_REACT_APP_PROFILER=false

# custom Debug Mode (set to true to enable verbose logging in development)
NEXT_PUBLIC_custom_DEBUG=false

# Subagent autorun control
# Disable automatic subagent execution in development unless explicitly enabled
# This prevents components from auto-calling MCP tools (e.g., weather) on dev start
NEXT_PUBLIC_SUBAGENT_AUTORUN=false

# Allow placeholder "Current Location" fallback for Weather subagent
# When false, weather tools will only execute with a concrete location string
NEXT_PUBLIC_ALLOW_CURRENT_LOCATION=false

# Feature Flags for local-first tool routing and MCP readiness
NEXT_PUBLIC_LOCAL_TOOL_ROUTING_ENABLED=true
NEXT_PUBLIC_MCP_EARLY_INIT_ENABLED=true
NEXT_PUBLIC_BYPASS_CLOUD_CHAT_THREAD=false
NEXT_PUBLIC_TOOL_DISPATCH_STRICT_TYPES=true
NEXT_PUBLIC_TOOL_DISPATCH_KILL_SWITCH=false
NEXT_PUBLIC_MCP_READY_TIMEOUT_MS=150
