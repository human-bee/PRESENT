name = "present-tldraw-sync"
main = "src/index.ts"
compatibility_date = "2025-02-01"
workers_dev = true
preview_urls = false

[observability]
enabled = true

[durable_objects]
bindings = [
  { name = "TLDRAW_ROOM", class_name = "TldrawRoomDurableObject" },
]

[[migrations]]
tag = "v1"
new_sqlite_classes = ["TldrawRoomDurableObject"]

[[r2_buckets]]
binding = "TLDRAW_UPLOADS"
bucket_name = "present-tldraw-uploads"
preview_bucket_name = "present-tldraw-uploads-preview"

# NOTE:
# We intentionally do not configure a custom domain here because present.best DNS is
# not currently delegated to Cloudflare (it is on Porkbun/Vercel DNS). If you want
# `sync.present.best`, either move DNS to Cloudflare or enable Cloudflare "Custom
# Hostnames" (SSL for SaaS) and then add routes back in.
